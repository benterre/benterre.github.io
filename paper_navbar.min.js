function nav_animate(e){return e<sec_header_bottom?0:e>=sec_header_bottom&&e<sec_research_top?e/(sec_research_top-sec_header_bottom)+sec_header_bottom/(sec_header_bottom-sec_research_top):e>=sec_research_top&&e<sec_research_bottom?1:e>=sec_research_bottom&&e<sec_education_top?1+e/(sec_education_top-sec_research_bottom)+sec_research_bottom/(sec_research_bottom-sec_education_top):e>=sec_education_top&&e<sec_education_bottom?2:e>=sec_education_bottom&&e<sec_accomplishments_top?2+e/(sec_accomplishments_top-sec_education_bottom)+sec_education_bottom/(sec_education_bottom-sec_accomplishments_top):e>=sec_accomplishments_top&&e<sec_accomplishments_bottom?3:e>=sec_accomplishments_bottom&&e<sec_hobbies_top?3+e/(sec_hobbies_top-sec_accomplishments_bottom)+sec_accomplishments_bottom/(sec_accomplishments_bottom-sec_hobbies_top):e>=sec_hobbies_top?4:void 0}function onFrame(){generateConnections(circlePaths);var e=nav_animate(window.scrollY+window.innerHeight/2);0!=e&&1!=e&&2!=e&&3!=e&&4!=e||(navCircle1.position=ballPositions[e],navCircle2.position=ballPositions[e]),e>0&&e<1&&(navCircle1.position=[ballPositions[0][0],(ballPositions[1][1]-ballPositions[0][1])*e+ballPositions[0][1]]),e>1&&e<2&&(navCircle1.position=[ballPositions[1][0],(ballPositions[2][1]-ballPositions[1][1])*(e-1)+ballPositions[1][1]]),e>2&&e<3&&(navCircle1.position=[ballPositions[2][0],(ballPositions[3][1]-ballPositions[2][1])*(e-2)+ballPositions[2][1]]),e>3&&e<4&&(navCircle1.position=[ballPositions[3][0],(ballPositions[4][1]-ballPositions[3][1])*(e-3)+ballPositions[3][1]])}function generateConnections(e){connections.children=[];for(var t=0,o=e.length;t<o;t++)for(var s=t-1;s>=0;s--){var n=metaball(e[t],e[s],.5,handle_len_rate,100);n&&(connections.appendTop(n),n.removeOnMove())}}function metaball(e,t,o,s,n){var a,c,i=e.position,l=t.position,r=e.bounds.width/2,_=t.bounds.width/2,h=Math.PI/2,b=i.getDistance(l);if(0!=r&&0!=_&&!(b>n||b<=Math.abs(r-_))){b<r+_?(a=Math.acos((r*r+b*b-_*_)/(2*r*b)),c=Math.acos((_*_+b*b-r*r)/(2*_*b))):(a=0,c=0);var m=(l-i).getAngleInRadians(),p=Math.acos((r-_)/b),P=m+a+(p-a)*o,d=m-a-(p-a)*o,u=m+Math.PI-c-(Math.PI-c-p)*o,v=m-Math.PI+c+(Math.PI-c-p)*o,g=i+getVector(P,r),C=i+getVector(d,r),M=l+getVector(u,_),w=l+getVector(v,_),f=r+_,I=Math.min(o*s,(g-M).length/f);I*=Math.min(1,2*b/(r+_)),r*=I,_*=I;var V=new Path({segments:[g,M,w,C],style:e.style,closed:!0}),y=V.segments;return y[0].handleOut=getVector(P-h,r),y[1].handleIn=getVector(u+h,_),y[2].handleOut=getVector(v-h,_),y[3].handleIn=getVector(d+h,r),V}}function getVector(e,t){return new Point({angle:180*e/Math.PI,length:t})}project.currentStyle={fillColor:"white"};var handle_len_rate=2.4,circlePaths=[],navCircle1=new Path.Circle({center:ballPositions[0],radius:32.5,applyMatrix:!1}),navCircle2=new Path.Circle({center:ballPositions[0],radius:32.5,applyMatrix:!1});circlePaths.push(navCircle1),circlePaths.push(navCircle2);var connections=new Group;generateConnections(circlePaths);